$(function() {
	function t(t, e) {
		return t = t || 100, e = e || 0, Math.ceil(Math.random() * (t - e) + e)
	}

	function e(t) {
		var e = $("<div class='comment'>" + t + "</div>");
		e.on("animationend webkitAnimationEnd", function(t) {
			$(this).remove()
		}).appendTo(g)
	}

	function n(t, e) {
		if (!i) {
			if (d = t, o.text(m[d][0]), s.text("神马"), c.text("？"), a.addClass("shake"), k = 0, e) {
				var n = $(".tip").show();
				setTimeout(function() {
					n.remove()
				}, 4e3)
			}
			_hmt.push(["_trackEvent", "time", "change", m[d][0]])
		}
	}
	var i = 0,
		a = $(".title"),
		o = $(".time"),
		s = $(".what"),
		c = $(".punctuation"),
		l = $("#start"),
		r = $("#temp_container"),
		m = [
			["早饭",
				""
				.split(" ")
			],
			["午饭"],
			// ["晚饭",
			// 	"盖浇饭 砂锅 大排档 米线 满汉全席 西餐 麻辣烫 自助餐 炒面 快餐 水果 西北风 馄饨 火锅 烧烤 泡面 水饺 日本料理 涮羊肉 味千拉面 面包 扬州炒饭 自助餐 菜饭骨头汤 茶餐厅 海底捞 西贝莜面村 披萨 麦当劳 KFC 汉堡王 卡乐星 兰州拉面 沙县小吃 烤鱼 烤肉 海鲜 铁板烧 韩国料理 粥 快餐 萨莉亚 桂林米粉 东南亚菜 甜点 农家菜 川菜 粤菜 湘菜 本帮菜 生活 全家便当"
			// 	.split(" ")
			// ],
			["晚饭",
				"书本 书本 虾条 书本 虾条 书本 虾条 书本 笔记本 笔记本 笔记本"
				.split(" ")
			]
		],
		d = 2,
		p = (new Date).getHours(),
		f = $(window),
		g = $("body"),
		v = $("#wrapper"),
		x = $(".os"),
		k = 0,
		w = "human",
		b, C, E;
	m[1][1] = m[2][1], a.on("animationend webkitAnimationEnd", function(t) {
		$(this).removeClass("shake")
	}), r.on("animationend webkitAnimationEnd", function(t) {
		$(t.target).remove()
	}), l.click(function() {
		if (g.toggleClass("playing", !i), i) i = 0, "monster" == w && x.text(u[t(u.length)]), c.text("！"), l.find("span")
			.text("换一个"), clearTimeout(b), document.title = a.text() + "这是一个很无聊的网站，但能解决你的人生一大困扰！选择困难户必备！";
		else {
			i = 1, k++, 2 == k ;
			var n = "human" == w ? m[d][1] : h;
			c.text("？"), l.find("span").text("停"), x.text(""),
				function o() {
					var e = t(n.length) - 1,
						i = n[e],
						a = t(C),
						c = t(E - 50),
						l = t(37, 14);
					s.text(i);
					var m = $("<span class='temp'>" + i + "</span>").css({
						top: a,
						left: c,
						color: "rgba(0,0,0," + t(7, 3) / 10 + ")",
						fontSize: l + "px"
					}).appendTo(r);
					b = setTimeout(o, 60)
				}()
		}
	}), $("#toggle span").click(function() {
		$(this).hasClass("selected") || ($(this).addClass("selected").siblings().removeClass("selected"), w = $(this).data(
			"type"), alert("monster" == w ? "注意！前方高能！(非昭欧勿进)" : "还是人类好吃呢Ψ(￣∀￣)Ψ"), k = 0, _hmt.push(["_trackEvent", "type",
			"toggle", w
		]))
	}), 9 > p || p >= 23 ? n(0, 1) : 13 > p && n(1, 1), a.click(function() {
		n(d >= m.length - 1 ? 0 : d + 1)
	}), $("#ribbon").click(function() {
		return alert(this.title), !1
	}), f.resize(function() {
		E = f.width(), C = f.height()
	}).resize()
});
